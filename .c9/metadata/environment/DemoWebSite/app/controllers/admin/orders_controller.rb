{"filter":false,"title":"orders_controller.rb","tooltip":"/DemoWebSite/app/controllers/admin/orders_controller.rb","undoManager":{"mark":3,"position":3,"stack":[[{"start":{"row":1,"column":0},"end":{"row":5,"column":5},"action":"remove","lines":["  def index","  end","","  def show","  end"],"id":2}],[{"start":{"row":1,"column":0},"end":{"row":27,"column":5},"action":"insert","lines":["  def index","    @orders = Order.page(params[:page]).per(8)","  end","","  def show","    @order = Order.find(params[:id])","    @order_details = @order.order_details","    @order_detail = OrderDetail.find(params[:id])","  end","","  def update","    @order = Order.find(params[:id])","    @order.update(order_params)","      if @order.status == '入金確認'","        @order.order_details.each do |order_detail|","          order_detail.update(making_status: 1)","        end","      end","      redirect_to admin_order_path(@order)","  end","","  private","","  def order_params","    #params.permit(:customer_id, :postal_code, :address, :name, :shopping_cost, :total_payment, :payment_method, :status)","    params.require(:order).permit(:status)","  end"],"id":3}],[{"start":{"row":1,"column":0},"end":{"row":2,"column":0},"action":"insert","lines":["",""],"id":4}],[{"start":{"row":9,"column":4},"end":{"row":9,"column":5},"action":"insert","lines":["#"],"id":5}]]},"ace":{"folds":[],"scrolltop":28.5,"scrollleft":0,"selection":{"start":{"row":10,"column":5},"end":{"row":10,"column":5},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":7,"state":"start","mode":"ace/mode/ruby"}},"timestamp":1622443918507,"hash":"dd9cc47557c3179a84669c94c6b083ba56ccb0eb"}